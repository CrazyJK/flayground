<meta charset="UTF-8">
<style type="text/css">
.flay-list-wrapper {
	display: none;
    background-color: rgba(240, 248, 255, 0.5);
    border-radius: 0.5rem;
    margin: 1rem;
    padding: 1rem;
}

.summary-list table thead tr th {
	text-align: center!important;
}

.summary-item > .item-key {
	margin: .25rem;
	text-align: left;
}
.summary-item > .item-count {
	margin: .25rem;
	min-width: 40px;
	font-size: 90%;
}
.summary-item > .item-size {
	margin: .25rem;
	min-width: 65px;
	text-align: right;
}

.card {
	display: inline-flex;
	width: 850px;
}
.card-body > .table {
	font-family: D2Coding;
}
.card-body .table-hover tbody tr:hover {
    background-color: rgba(0, 123, 255, 0.1);
}

.card-body table.table th:nth-child(1), .card-body table.table td:nth-child(1) {
	text-align: left;
}
.card-body table.table th:nth-child(2), .card-body table.table td:nth-child(2) {
	text-align: right;
}
.card-body table.table th:nth-child(3), .card-body table.table td:nth-child(3) {
	text-align: right;
}

.card-body table.table thead th {
	border-bottom: 1px solid rgba(238, 238, 238, .5);
}
.card-body table.table tfoot th {
	border-top: 1px solid rgba(238, 238, 238, .5);
}

td.item-key {
	width: 200px;
}
td.item-count {
	width: 100px;
}
td.item-length {
	width: 100px;
}
td.item-progress {
	min-width: 200px;
}
td.item-progress > .progress {
	border-radius: .5rem;
	height: 24px;
	justify-content: center;
}
td.item-progress > .progress > .progress-bar {
	border-radius: .5rem;
}

.btn[aria-expanded="true"] {
	color: #007bff;
    background-color: #fff;
	text-shadow: 1px 1px #ff073c
}
</style>

<div role="body">

	<nav id="topMenu" class="navbar navbar-expand-sm bg-light navbar-light justify-content-center" style="gap: .5rem;">
		<button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#groupByStudio">Studio Canvas</button>
		<button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#StudioTable">Studio Table</button>
		<button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#groupByActress">Actress Canvas</button>
		<button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#ActressTable">Actress Table</button>
		<button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#groupByRelease">Group By Release</button>
		<button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#groupByPath">Group By Path</button>
		<button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#groupByRank">Group By Rank</button>
	</nav>

	<div class="container-fluid text-center">
		<div id="groupByStudio" class="collapse card m-2 bg-chalkboard">
			<div class="card-header text-center">
				Grouped by Studio (<span class="studio-count"></span>) over <span class="filter-count"></span> video
			</div>
			<div class="card-body text-center">
				<canvas id="studioCanvas" width="800" height="800"></canvas>
				<div id="studioList" style="display: none;"></div>
			</div>
		</div>

		<div id="StudioTable" class="collapse card m-2 bg-chalkboard">
			<div class="card-header text-center">
				Grouped by Studio (<span class="studio-count"></span>) over <span class="filter-count"></span> video
			</div>
			<div class="card-body text-center pt-0">
				<div class="summary-list" id="studioTableWrap">
					<table class="table table-sm table-hover">
						<thead>
							<tr>
								<th rowspan="2">Name</th>
								<th colspan="3">Total</th>
								<th colspan="3">Favorite</th>
								<th rowspan="2">Fav. ratio</th>
							</tr>
							<tr>
								<th>length</th>
								<th>size</th>
								<th>avg rank</th>
								<th>length</th>
								<th>size</th>
								<th>avg rank</th>
							</tr>
						</thead>
						<tbody>
						</table>
					</table>
				</div>
			</div>
		</div>

		<div id="groupByActress" class="collapse card m-2 bg-chalkboard">
			<div class="card-header text-center">
				Grouped by Actress (<span class="actress-count"></span>) over <span class="filter-count"></span> video
			</div>
			<div class="card-body text-center">
				<canvas id="actressCanvas" width="800" height="800"></canvas>
				<div id="actressList" style="display: none;"></div>
			</div>
		</div>

		<div id="ActressTable" class="collapse card m-2 bg-chalkboard">
			<div class="card-header text-center">
				Grouped by Actress (<span class="actress-count"></span>) over <span class="filter-count"></span> video
			</div>
			<div class="card-body text-center pt-0">
				<div class="summary-list" id="actressTableWrap">
					<table class="table table-sm table-hover">
						<thead>
							<tr>
								<th rowspan="2">Name</th>
								<th colspan="2">Total</th>
								<th colspan="3">Ranked</th>
							</tr>
							<tr>
								<th>length</th>
								<th>size</th>
								<th>length</th>
								<th>size</th>
								<th>rank</th>
							</tr>
						</thead>
						<tbody>
						</table>
					</table>
				</div>
			</div>
		</div>

		<div id="groupByRelease" class="collapse card m-2">
			<div class="card-body bg-chalkboard">
				<div class="text-center">
					<span class="text-danger">Choose release pattern</span>
					<label class="check sm"><input type="radio" name="releasePattern" value="YYYY"><span>YYYY</span></label>
					<label class="check sm"><input type="radio" name="releasePattern" value="YYYYMM"><span>YYYY.MM</span></label>
					<label class="check sm"><input type="radio" name="releasePattern" value="YYYYMMDD"><span>YYYY.MM.DD</span></label>
				</div>
				<table class="table table-sm table-borderless table-hover m-0">
					<thead class="text-primary">
						<tr>
							<th>Release</th>
							<th>Flay</th>
							<th>Length</th>
							<th></th>
						</tr>
					</thead>
					<tbody id="releasedList"></tbody>
					<tfoot class="text-danger"></tfoot>
				</table>
			</div>
		</div>

		<div id="groupByPath" class="collapse card m-2">
			<div class="card-body bg-chalkboard">
				<table class="table table-sm table-borderless table-hover m-0">
					<thead class="text-primary">
						<tr>
							<th>Path</th>
							<th>Flay</th>
							<th>Length</th>
							<th></th>
						</tr>
					</thead>
					<tbody id="pathList"></tbody>
					<tfoot class="text-danger"></tfoot>
				</table>
			</div>
		</div>

		<div id="groupByRank" class="collapse card m-2">
			<div class="card-body bg-chalkboard">
				<table class="table table-sm table-borderless table-hover m-0">
					<thead class="text-primary">
						<tr>
							<th>Rank</th>
							<th>Flay</th>
							<th>Length</th>
							<th></th>
						</tr>
					</thead>
					<tbody id="rankList"></tbody>
					<tfoot class="text-danger"></tfoot>
				</table>
			</div>
		</div>
	</div>

	<div class="flay-list-wrapper">
		<i class="fa fa-times float-right hover" onclick="$(this).parent().hide()"></i>
		<h4 class="text-center mt-1">
			<label class="text" id="groupByKey"></label>
		</h4>
		<div class="text-center mt-2 flay-list" id="flayList"></div>
	</div>

</div>

<script type="text/javascript" src="../../js/tag/jquery.tagcanvas-flay.js"></script>
<script type="text/javascript" src="../../js/flay.summary.js"></script>
