<!DOCTYPE html>
<html>
<head>
<title>Actuator</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/webjars/fontawesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/webjars/bootstrap/css/bootstrap.min.css">
<script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
<script type="text/javascript" src="/webjars/popper.js/umd/popper.js"></script>
<script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript">
$(document).ready(function() {

	$.ajax({
		url: '/actuator',
		cache: false
	}).done(function(json) {
		$.each(json._links, function(key, val) {
			var url = val.href.replace('http://localhost:6974', '');
			$("<div>", {'class': 'card m-2'}).css({width: 'auto'}).append(
					$("<div>", {'class': 'card-body'}).append(
							$("<h5>", {'class': 'card-title'}).html(key),
							(function() {
								return val.templated ?
										$("<div>", {class: "input-group input-group-sm"}).append(
												$("<input>", {class: 'form-control form-control-sm border-primary'}).val(url).on("keyup", function(e) {
													if (e.keyCode === 13)
														$(this).next().children().get(0).click();
												}),
												$("<div>", {class: 'input-group-append'}).append(
														$("<button>", {class: 'btn btn-outline-primary'}).append(
																$("<i>", {class: "fa fa-external-link"})
														).on("click", function() {
															window.open($(this).parent().prev().val(), key, 'width=800, height=600');
														})
												)
										) :  
										$("<p>", {'class': 'card-text'}).append(
												$("<a>", {'href': "javascript: window.open('" + val.href + "', '" + key + "', 'width=800, height=600');"}).html(url)
										);
							}())
					)
			).appendTo("#cardWrap");
		});
	});

});
</script>
</head>
<body>

	<div class="container-fluid">
		<div class="d-flex my-2">
			<div class="mr-auto"><h4>Actuator</h4></div>
			<a href="/">Home</a>
		</div>
		<div id="cardWrap" class="d-inline-flex flex-wrap"></div>
	</div>

</body>
</html>