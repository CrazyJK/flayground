<meta charset="UTF-8" />
<link rel="stylesheet" href="./flay.summary.css" />

<div role="body">
  <div id="topMenu" style="background-color: var(--color-bg)">
    <nav class="rounded-bottom">
      <div class="btn-group" role="group" aria-label="Studio">
        <button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#groupByStudio">Studio Canvas</button>
        <button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#StudioTable">Studio Table</button>
      </div>
      <div class="btn-group" role="group" aria-label="Actress">
        <button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#groupByActress">Actress Canvas</button>
        <button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#ActressTable">Actress Table</button>
      </div>
      <div class="btn-group" role="group" aria-label="Group">
        <button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#groupByRelease">Release</button>
        <button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#groupByPath">Path</button>
        <button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#groupByRank">Rank</button>
      </div>
      <button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#releaseChartDiv">Release Chart</button>
      <button class="btn btn-flay btn-sm" data-toggle="collapse" aria-expanded="false" data-target="#flayAllDiv">FlayAll</button>
    </nav>
  </div>

  <div class="container-fluid text-center">
    <div id="groupByStudio" class="collapse card m-2 bg-chalkboard">
      <div class="card-header text-center">Grouped by Studio (<span class="studio-count"></span>) over <span class="filter-count"></span> video</div>
      <div class="card-body text-center">
        <canvas id="studioCanvas" width="800" height="800"></canvas>
        <div id="studioList" style="display: none"></div>
      </div>
    </div>

    <div id="StudioTable" class="collapse card m-2 bg-chalkboard">
      <div class="card-header text-center">Grouped by Studio (<span class="studio-count"></span>) over <span class="filter-count"></span> video</div>
      <div class="card-body text-center pt-0">
        <div class="summary-list" id="studioTableWrap">
          <table class="table table-sm table-hover">
            <thead>
              <tr>
                <th rowspan="2">Name</th>
                <th colspan="3">Total</th>
                <th colspan="3">Favorite</th>
                <th rowspan="2">Fav. ratio</th>
              </tr>
              <tr>
                <th>length</th>
                <th>size</th>
                <th>avg rank</th>
                <th>length</th>
                <th>size</th>
                <th>avg rank</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <div id="groupByActress" class="collapse card m-2 bg-chalkboard">
      <div class="card-header text-center">Grouped by Actress (<span class="actress-count"></span>) over <span class="filter-count"></span> video</div>
      <div class="card-body text-center">
        <canvas id="actressCanvas" width="800" height="800"></canvas>
        <div id="actressList" style="display: none"></div>
      </div>
    </div>

    <div id="ActressTable" class="collapse card m-2 bg-chalkboard">
      <div class="card-header text-center">Grouped by Actress (<span class="actress-count"></span>) over <span class="filter-count"></span> video</div>
      <div class="card-body text-center pt-0">
        <div class="summary-list" id="actressTableWrap">
          <table class="table table-sm table-hover">
            <thead>
              <tr>
                <th rowspan="2">Name</th>
                <th colspan="2">Total</th>
                <th colspan="3">Ranked</th>
              </tr>
              <tr>
                <th>length</th>
                <th>size</th>
                <th>length</th>
                <th>size</th>
                <th>rank</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <div id="groupByRelease" class="collapse card m-2">
      <div class="card-body bg-chalkboard">
        <div class="text-center">
          <span class="text-danger">Choose release pattern</span>
          <label class="check sm"><input type="radio" name="releasePattern" value="YYYY" /><span>YYYY</span></label>
          <label class="check sm"><input type="radio" name="releasePattern" value="YYYYMM" /><span>YYYY.MM</span></label>
          <label class="check sm"><input type="radio" name="releasePattern" value="YYYYMMDD" /><span>YYYY.MM.DD</span></label>
        </div>
        <table class="table table-sm table-borderless table-hover m-0">
          <thead class="text-primary">
            <tr>
              <th>Release</th>
              <th>Flay</th>
              <th>Length</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="releasedList"></tbody>
          <tfoot class="text-danger"></tfoot>
        </table>
      </div>
    </div>

    <div id="groupByPath" class="collapse card m-2">
      <div class="card-body bg-chalkboard">
        <table class="table table-sm table-borderless table-hover m-0">
          <thead class="text-primary">
            <tr>
              <th>Path</th>
              <th>Flay</th>
              <th>Length</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="pathList"></tbody>
          <tfoot class="text-danger"></tfoot>
        </table>
      </div>
    </div>

    <div id="groupByRank" class="collapse card m-2">
      <div class="card-body bg-chalkboard">
        <table class="table table-sm table-borderless table-hover m-0">
          <thead class="text-primary">
            <tr>
              <th>Rank</th>
              <th>Flay</th>
              <th>Length</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="rankList"></tbody>
          <tfoot class="text-danger"></tfoot>
        </table>
      </div>
    </div>

    <div id="releaseChartDiv" class="collapse m-2">
      <div id="releaseChart" style="height: 500px"></div>
    </div>

    <div id="flayAllDiv" class="collapse m-2">
      <div class="container bg-chalkboard rounded p-2">
        <div id="flayAllWrapper" style="display: flex; flex-direction: row; flex-wrap: wrap"></div>
        <div class="progress border-0" id="displayProgress" style="height: 0.25rem">
          <div class="progress-bar border-0" style="width: 0%; transition: width 0.1s linear"></div>
        </div>
        <div id="flayAllAxisWrapper" style="display: flex; flex-direction: row; flex-wrap: wrap"></div>
      </div>
      <div class="container bg-chalkboard rounded p-2 mt-2" style="height: 800px; overflow: auto">
        <table class="table table-sm table-hover">
          <colgroup>
            <col width="100px" />
            <col width="10%" />
            <col width="10%" />
            <col width="10%" />
            <col width="10%" />
            <col width="10%" />
            <col width="10%" />
            <col width="10%" />
            <col width="100px" />
          </colgroup>
          <thead>
            <tr>
              <th>Date</th>
              <th>Rank -1</th>
              <th>Rank 0</th>
              <th>Rank 1</th>
              <th>Rank 2</th>
              <th>Rank 3</th>
              <th>Rank 4</th>
              <th>Rank 5</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody id="flayAllTableBody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="modal fade flay-list-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fluid mt-5 mx-3">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title w-100 text-center" id="groupByKey">New message</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="text-center mt-2 flay-list" id="flayList"></div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-block btn-outline-secondary mt-2" id="moreFlayList" style="display: none">More</button>
        </div>
      </div>
    </div>
  </div>

  <!-- <div class="flay-list-wrapper">
		<i class="fa fa-times float-right hover" onclick="$(this).parent().hide()"></i>
		<h4 class="text-center mt-1">
			<label class="text title" id="groupByKey"></label>
		</h4>
		<div class="text-center mt-2 flay-list" id="flayList"></div>
		<button class="btn btn-block btn-outline-secondary mt-2" id="moreFlayList" style="display: none">More</button>
	</div> -->
</div>

<script type="text/javascript" src="./flay.summary.js"></script>
