<!DOCTYPE html>
<html lang="en" data-theme="dark">
	<head>
		<title>Signin Flayground</title>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<style>
			body {
				background-color: rgb(28, 28, 28);
				overflow: hidden;
			}
			.display-middle {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				aspect-ratio: 4 / 3;
			}
			.text-title {
				font-size: 3.5rem;
				font-weight: 700;
				text-align: center;
				width: 100%;
			}
			.btn-enter {
				background-color: transparent;
				border: 0;
				display: block;
				font-size: 2.5rem;
				font-weight: 700;
				margin: 0 auto;
			}
			.btn-enter:focus {
				outline: none;
			}
			.btn-login {
				background-color: transparent;
				border: 0;
				/* color: #dc3545; */
				display: block;
				font-size: 2rem;
				margin: 0 auto;
			}
			.btn-login:focus {
				outline: none;
			}
			.form-control-login {
				background-color: transparent;
				border: 0;
				display: block;
				font-size: 2rem;
				margin: 0 auto;
				padding: 0;
				text-align: center;
				width: auto;
			}
			.form-control-login:focus {
				background-color: transparent;
				box-shadow: none;
				outline: none;
			}
			form#signin {
				display: none;
				transition: 0.4s;
			}

			.w3-animate-top {
				position: relative;
				animation: animateTop 0.9s;
			}
			@keyframes animateTop {
				from {
					top: -500px;
					opacity: 0;
				}
				to {
					top: 0;
					opacity: 1;
				}
			}
			.w3-animate-bottom {
				position: relative;
				animation: animateBottom 0.9s;
			}
			@keyframes animateBottom {
				from {
					top: 500px;
					opacity: 0;
				}
				to {
					top: 0;
					opacity: 1;
				}
			}
			.login-error {
				animation: loginError 1.5s linear 1s;
				border-radius: 1rem;
			}
			@keyframes loginError {
				0% {
					background-color: transparent;
				}
				50% {
					background-color: rgba(255, 0, 0, 0.25);
				}
				100% {
					background-color: transparent;
				}
			}

			.chalk {
				color: #eee;
				mask-image: url(dist/img/pattern/pattern-static.png);
				-webkit-mask-image: url(dist/img/pattern/pattern-static.png);
				font-family: 'Ink Free';
				text-shadow: 0 0 2px #fff, 0 0 4px #fff, 0 0 6px #fff, 0 0 8px #999999, 0 0 10px #000000;
			}
			.chalk-pink {
				color: #ffc0cb;
				mask-image: url(dist/img/pattern/pattern-static.png);
				-webkit-mask-image: url(dist/img/pattern/pattern-static.png);
				font-family: 'Ink Free';
				text-shadow: 0 0 2px #ffc0cb, 0 0 4px #ffc0cb, 0 0 6px #ffc0cb, 0 0 8px #999999, 0 0 10px #000000;
			}
			.sr-only {
				position: absolute;
				width: 1px;
				height: 1px;
				padding: 0;
				margin: -1px;
				overflow: hidden;
				clip: rect(0, 0, 0, 0);
				border: 0;
			}
		</style>
	</head>
	<body>
		<img src="dist/img/svg/flayground1.svg" style="display: block; margin: auto; width: 50%; height: 100vh" />
		<div class="display-middle">
			<div class="w3-animate-top">
				<label class="text-title chalk" id="title">FLAYGROUND</label>
			</div>
			<div class="w3-animate-bottom">
				<form name="f" method="POST" autocomplete="off" id="signin">
					<input type="checkbox" name="remember-me" class="sr-only" checked="checked" />
					<input type="text" name="username" class="form-control-login chalk" placeholder="Name" required autofocus />
					<input type="password" name="password" class="form-control-login chalk" placeholder="Password" required />
					<input type="hidden" name="_csrf" />
					<button type="submit" class="btn-login chalk">Signin</button>
				</form>
				<button class="btn-enter chalk-pink" id="btnEnter">Enter</button>
			</div>
		</div>
		<script type="text/javascript">
			const btnEnter = document.querySelector('#btnEnter');
			const title = document.querySelector('#title');
			const signin = document.querySelector('#signin');
			const username = document.querySelector('input[name="username"]');
			const displayMiddle = document.querySelector('.display-middle');

			window.addEventListener('keyup', function (e) {
				switch (e.keyCode) {
					case 13: // Enter
						btnEnter.click();
						break;
					case 27: // Esc
						title.click();
						break;
				}
			});

			btnEnter.addEventListener('click', function () {
				this.style.display = 'none';
				signin.style.display = 'block';
				username.focus();
			});

			title.addEventListener('click', function () {
				signin.style.display = 'none';
				btnEnter.style.display = 'block';
			});

			if (window.location.search.indexOf('error') > 0) {
				displayMiddle.classList.add('login-error');
				btnEnter.click();
			}

			// set csrf
			// document.cookie.split(';').forEach((cookie) => {
			// 	if ('XSRF-TOKEN' === cookie.substr(0, cookie.indexOf('=')).replace(/^\s+|\s+$/g, '')) {
			// 		document.querySelector("input[name='_csrf']").value = unescape(cookie.substr(cookie.indexOf('=') + 1));
			// 		return false;
			// 	}
			// });
		</script>
	</body>
</html>
