<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Flay Popup</title>
		<link rel="icon" type="image/png" href="/img/favicon/flay_1.png" />
		<link rel="stylesheet" href="/webjars/bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" href="/webjars/jquery-ui/jquery-ui.min.css" />
		<link rel="stylesheet" href="/webjars/jquery-ui/jquery-ui.theme.min.css" />
		<link rel="stylesheet" href="../css/base.scrollbar.css" />
		<link rel="stylesheet" href="../css/crazy.fonts.css" />
		<link rel="stylesheet" href="../css/crazy.common.css" />
		<link rel="stylesheet" href="../css/crazy.common.range.css" />
		<link rel="stylesheet" href="../css/flay.view.card.css" />
		<link rel="stylesheet" href="../css/main.css" />
		<script src="https://kit.fontawesome.com/673bdd6a2d.js" crossorigin="anonymous"></script>
		<script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
		<script type="text/javascript" src="/webjars/popper.js/umd/popper.js"></script>
		<script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="/webjars/jquery-ui/jquery-ui.min.js"></script>
		<script type="text/javascript" src="../js/crazy.common.js"></script>
		<script type="text/javascript" src="../js/crazy.jquery.js"></script>
		<script type="text/javascript" src="../js/flay.rest.service.js"></script>
		<script type="text/javascript" src="../js/flay.utils.js"></script>
		<script type="text/javascript" src="../js/flay.view.card.js"></script>
		<script type="text/javascript" src="../js/flay.websocket.js"></script>
		<script type="text/javascript" src="../js/theme/flay.theme.js"></script>
	</head>
	<body>
		<main>
			<div id="wrap_body"></div>
		</main>

		<footer>
			<div id="notice" title="" style="display: none"><p></p></div>
		</footer>

		<script type="text/javascript">
			var isAdmin, username;
			$(function () {
				isAdmin = Security.hasRole('ADMIN');
				username = Security.getName();

				// theme
				var bgThemeValue = LocalStorageItem.get('flay.bgtheme', 'D');
				var link = document.querySelector('#themeLink');
				if (link) {
					document.head.removeChild(link);
				}
				if (bgThemeValue === 'D') {
					var link = document.createElement('link');
					link.setAttribute('id', 'themeLink');
					link.setAttribute('rel', 'stylesheet');
					link.setAttribute('href', '/css/theme/flay.theme.dark.css');
					document.head.appendChild(link);
				}

				Rest.Html.get(reqParam.target, function (html) {
					$('#wrap_body').html(html);
				});
			});
			window.onerror = function (e) {
				if (e.toString() === 'ResizeObserver loop limit exceeded') {
					return;
				} else {
					loading.error('Error: ' + e);
				}
				console.error('Error name[' + e.name + '] message[' + e.message + '] toString[' + e.toString() + ']', e);
			};
		</script>
	</body>
</html>
